(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{120:function(e,t,a){e.exports={main:"App_main__1UEVW",header:"App_header__12d7c"}},123:function(e,t,a){e.exports={main:"ExchangeRates_main__AjJeg",list:"ExchangeRates_list__324od"}},148:function(e,t,a){e.exports={main:"AppContainer_main__rxi6n",mount:"AppContainer_mount__3Qtv-"}},206:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),i=a.n(c),s=(a(172),a(120)),u=a.n(s),o=a(217),d=a(218),l=a(220),j=a(207),b=a(35),p=a(84),h=a(73),x=a(48),v=a.n(x),f=a(78),O=a(145),g=a.n(O).a.create({baseURL:"https://freecurrencyapi.net/api/v2/",timeout:1e4});g.interceptors.request.use((function(e){return e.params.apikey="234fd760-3ddf-11ec-aa54-3d6479b66aa8",e}));var m=function(e){return Object(f.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.get("/latest",{params:{base_currency:e}});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},y=a(90),C=a.n(y),_={amount:"10.23",loading:!1,error:null,targetCurrency:"USD"===C.a.getCurrency(window.navigator.language)?"RUB":"USD",data:null},w=Object(h.b)("app/fetchBaseCurrency",function(){var e=Object(f.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return(a=e.sent).data[t]=1,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),A=Object(h.b)("app/fetchData",function(){var e=Object(f.a)(v.a.mark((function e(t,a){var n,r,c,i,s,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.getState,r=a.dispatch,c=n().app,i=c.targetCurrency,s=c.data,!(u=null===s||void 0===s?void 0:s.query.base_currency)){e.next=7;break}return e.next=6,r(w(i));case 6:r(N(u));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),k=Object(h.c)({name:"app",initialState:_,reducers:{setTargetCurrency:function(e,t){e.targetCurrency=t.payload},setAmount:function(e,t){var a=t.payload;a.match(/^[0-9]*[.]?[0-9]*$/g)&&(e.amount=a)}},extraReducers:function(e){e.addCase(w.fulfilled,(function(e,t){e.data=t.payload,e.loading=!1,e.error=null})).addCase(w.pending,(function(e){e.loading=!0})).addCase(w.rejected,(function(e,t){var a=t.error;e.loading=!1,e.error=a.message||"Something went wrong :("}))}}),S=k.actions,N=S.setTargetCurrency,E=S.setAmount,U=(k.reducer,a(83)),R=Object(h.a)({reducer:{app:k.reducer},devTools:!1}),T=U.c,q=a(76),z=a(147),B=a(148),D=a.n(B),F=a(149),I=a.n(F),J=a(5),L=["className","children"],M=function(e){var t=e.className,a=e.children,n=Object(z.a)(e,L);return Object(J.jsx)("div",Object(q.a)(Object(q.a)({className:I()(D.a.main,t)},n),{},{children:a}))},Q=function(){var e=Object(U.b)(),t=T((function(e){return e.app})),a=t.amount,r=t.data,c=t.loading,i=t.error,s=t.targetCurrency,u=Object(n.useMemo)((function(){return(null===r||void 0===r?void 0:r.data)?Object.keys(r.data).map((function(e){return{key:e,value:e,text:e}})):[]}),[r]);return Object(J.jsxs)(M,{children:[Object(J.jsx)(o.a,{as:"h1",textAlign:"center",children:"Currency converter"}),Object(J.jsx)(d.a,{value:a,onChange:function(t){e(E(t.target.value))},icon:"money",label:"Amount",fluid:!0}),Object(J.jsx)(l.a,{placeholder:"Select base currency",fluid:!0,search:!0,selection:!0,value:null===r||void 0===r?void 0:r.query.base_currency,options:u,loading:c,onChange:function(t,a){var n=a.value;return e(w(n))}}),Object(J.jsxs)(j.a,{onClick:function(){return e(A())},children:[Object(J.jsx)(b.a,{name:"arrow up"}),Object(J.jsx)(b.a,{name:"arrow down"})]}),Object(J.jsx)(l.a,{placeholder:"Select target currency",fluid:!0,search:!0,selection:!0,value:s,options:u,disabled:c,onChange:function(t,a){var n=a.value;return e(N(n))}}),Object(J.jsxs)(p.a,{size:"big",color:"teal",children:["Total: ",(null===r||void 0===r?void 0:r.data[s])&&a?((null===r||void 0===r?void 0:r.data[s])*parseFloat(a)).toFixed(2):""]}),i&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(j.a,{negative:!0,fluid:!0,onClick:function(){return e(w("USD"))},children:"Try again"}),Object(J.jsx)(o.a,{textAlign:"center",as:"p",children:i})]})]})},V=a(8),W=a(86),$=a(123),G=a.n($),H=a(224),K=a(221),P=a(222),X=a(219),Y=a(152),Z=a.n(Y),ee=function(){var e=T((function(e){return e.app})).data;return Object(J.jsxs)(M,{className:G.a.main,children:[Object(J.jsx)(o.a,{as:"h1",textAlign:"center",children:"Exchange rates"}),Object(J.jsxs)(o.a,{textAlign:"center",children:["Base currency: ",null===e||void 0===e?void 0:e.query.base_currency]}),Object(J.jsx)(H.a,{as:K.a,animated:!0,size:"large",divided:!0,relaxed:!0,className:G.a.list,children:e?Object.keys(e.data).map((function(t){return Object(J.jsxs)(K.a.Item,{children:[Object(J.jsx)(K.a.Content,{floated:"right",children:e.data[t]}),Object(J.jsx)(K.a.Icon,{verticalAlign:"middle",children:Object(J.jsx)(Z.a,{currency:t})}),Object(J.jsx)(K.a.Content,{children:t})]},t)})):Object(J.jsx)(P.a,{active:!0,inverted:!0,fixed:!0,children:Object(J.jsx)(X.a,{size:"large",children:"Loading"})})})]})},te=a(225),ae=a(127),ne=function(){var e=Object(V.f)();return Object(J.jsxs)("div",{className:u.a.main,children:[Object(J.jsxs)(te.a,{size:"large",fixed:"top",className:u.a.header,children:[Object(J.jsx)(ae.a,{active:"/"===e.pathname,as:W.b,to:"/",children:"Converter"}),Object(J.jsx)(ae.a,{as:W.b,active:"/rates"===e.pathname,to:"/rates",children:"Exchange rates"})]}),Object(J.jsxs)(V.d,{children:[Object(J.jsx)(V.b,{index:!0,element:Object(J.jsx)(Q,{})}),Object(J.jsx)(V.b,{path:"rates",element:Object(J.jsx)(ee,{})}),Object(J.jsx)(V.b,{path:"*",element:Object(J.jsx)(V.a,{to:"/"})})]})]})};R.dispatch(w(C.a.getCurrency(window.navigator.language))),i.a.render(Object(J.jsx)(r.a.StrictMode,{children:Object(J.jsx)(W.a,{basename:"/currency-converter",children:Object(J.jsx)(U.a,{store:R,children:Object(J.jsx)(ne,{})})})}),document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.b4f5cc20.chunk.js.map